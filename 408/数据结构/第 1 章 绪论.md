# 第 1 章 绪论

## Intro

【考纲内容】

算法时间复杂度和空间复杂度的分析与计算

【知识框架】

![1](.\image\datastruct\1-1.png)

【复习提示】

本章内容是数据结构概述，并不在考研大纲中。读者可通过对本章的学习，初步了解数据结构的基本内容和基本方法。分析算法的时间复杂度和空间复杂度是本章的重点，一定要熟练掌握，算法设计题通常都会要求分析时间复杂度、空间复杂度，同时会出现考查时间复杂度的选择题。

## 一、数据结构的基本概念

### 0x00 基本概念和术语

#### 1. 数据

数据是信息的载体，是描述客观事物属性的数、字符及所有能输入到计算机中并被计算机程序识别和处理的符号的集合。数据是计算机程序加工的原料。

#### 2. 数据元素

数据元素是数据的基本单位，通常作为一个整体进行考虑和处理。一个数据元素可由若干数据项组成，数据项是构成数据元素的不可分割的最小单位。例如，学生记录就是一个数据元素，它由学号、姓名、性别等数据项组成。

#### 3. 数据对象

数据对象是具有相同性质的数据元素的集合，是数据的一个子集。例如，整数数据对象是集合 $N=\{0,\pm 1,\pm2,\dots\}$。

#### 4. 数据类型

数据类型是一个值的集合和定义在此集合上的一组操作的总称。

1. 原子类型。其值不可再分的数据类型。
2. 结构类型。其值可以再分解为若干成分（分量）的数据类型。
3. 抽象数据类型。抽象数据组织及与之相关的操作。

#### 5. 数据结构

数据结构是相互之间存在一种或多种特定关系的数据元素的集合。在任何问题中，数据元素都不是孤立存在的，它们之间存在某种关系，这种数据元素相互之间的关系称为结构（Structure）。数据结构包括三方面的内容：**逻辑结构、存储结构和数据的运算**。

数据的逻辑结构和存储结构是密不可分的两个方面，一个算法的设计取决于所选定的逻辑结构，而算法的实现依赖于所采用的存储结构。



### 0x01 数据结构三要素

#### 1. 数据的逻辑结构

逻辑结构是指数据元素之间的逻辑关系，即从逻辑关系上描述数据。它与数据的存储无关，是独立于计算机的。数据的逻辑结构分为线性结构和非线性结构，线性表是典型的线性结构；集合、树和图是典型的非线性结构。数据的逻辑结构分类如下图所示。

```mermaid
graph TD
A["数据的逻辑结构"]-->B["线性结构"]
A-->C["非线性结构"]
B-->D["一般线性表"]
B-->E["受限线性表"]
E-->F["栈和队列"]
E-->G["串"]
B-->H["线性表推广"]
H-->I["数组"]
C-->J["集合"]
C-->K["树形结构"]
K-->L["一般树"]
K-->M["二叉树"]
C-->N["图状结构"]
N-->O["有向图"]
N-->P["无向图"]
```

- 集合。结构中的数据元素之间除“同属一个集合”外，别无其他关系，如图 1.2(a) 所示。
- 线性结构。结构中的数据元素之间只存在一对一的关系，如图 1.2(b) 所示。
- 树形结构。结构中的数据元素之间存在一对多的关系，如图 1.2(c) 所示。
- 图状结构或网状结构。结构中的数据元素之间存在多对多的关系，如图 1.2(d) 所示。

![2](.\image\datastruct\1-2.png)

#### 2. 数据的存储结构

存储结构是指数据结构在计算机中的表示（又称映像），也称**物理结构**。它包括数据元素的表示和关系的表示。数据的存储结构是用计算机语言实现的逻辑结构，它依赖于计算机语言。数据的存储结构主要有顺序存储、链式存储、索引存储和散列存储。

1. **顺序存储**。把逻辑上相邻的元素存储在物理位置上也相邻的存储单元中，元素之间的关系由存储单元的邻接关系来体现。其优点是可以实现随机存取，每个元素占用最少的存储空间；缺点是只能使用相邻的一整块存储单元，因此可能产生较多的外部碎片。
2. **链式存储**。不要求逻辑上相邻的元素(c）树形结构在物理位置上也相邻，借助指示元素图1.24类基本结构关系示例图存储地址的指针来表示元素之间的逻辑关系。其优点是不会出现碎片现象，能充分利用所有存储单元；缺点是每个元素因存储指针而占用额外的存储空间，且只能实现顺序存取。
3. **索引存储**。在存储元素信息的同时，还建立附加的索引表。索引表中的每项称为索引项，索引项的一般形式是（关键字，地址）。其优点是检索速度快；缺点是附加的索引表额外占用存储空间。另外，增加和删除数据时也要修改索引表，因而会花费较多的时间。
4. **散列存储**。根据元素的关键字直接计算出该元素的存储地址，又称哈希（Hash）存储。其优点是检索、增加和删除结点的操作都很快；缺点是若散列函数不好，则可能出现元素存储单元的冲突，而解决冲突会增加时间和空间开销。

#### 3. 数据的运算

施加在数据上的运算包括运算的定义和实现。运算的定义是针对逻辑结构的，指出运算的功能；运算的实现是针对存储结构的，指出运算的具体操作步骤。



## 二、算法和算法评价

### 0x00 算法的基本概念

算法（Algorithm）是对特定问题求解步骤的一种描述，它是指令的有限序列，其中的每条指令表示一个或多个操作。此外，一个算法还具有下列 5 个重要特性：

1. **有穷性**。一个算法必须总在执行有穷步之后结束，且每一步都可在有穷时间内完成。
2. **确定性**。算法中每条指令必须有确切的含义，对于相同的输入只能得出相同的输出。
3. **可行性**。算法中描述的操作都可以通过已经实现的基本运算执行有限次来实现。
4. **输入**。一个算法有零个或多个输入，这些输入取自于某个特定的对象的集合。
5. **输出**。一个算法有一个或多个输出，这些输出是与输入有着某种特定关系的量。

通常，设计一个“好”的算法应考虑达到以下目标：

1. **正确性**。算法应能够正确地解决求解问题。
2. **可读性**。算法应具有良好的可读性，以帮助人们理解。
3. **健壮性**。输入非法数据时，算法能适当地做出反应或进行处理，而不会产生莫名其妙的输出结果。
4. **高效率与低存储量需求**。效率是指算法执行的时间，存储量需求是指算法执行过程中所需要的最大存储空间，这两者都与问题的规模有关。



### 0x01 算法效率的度量

算法效率的度量是通过**时间复杂度**和**空间复杂度**来描述的。

#### 1. 时间复杂度

一个语句的频度是指该语句在算法中被重复执行的次数，算法中所有语句的频度之和记为 $T(n)$ ，它是该算法问题规模 $n$ 的函数，时间复杂度主要分析 $T(n)$ 的数量级。算法中基本运算（最深层循环内的语句）的频度与 $T(n)$ 同数量级，因此通常采用算法中基本运算的频度 $f(n)$ 来分析算法的时间复杂度。因此，算法的时间复杂度记为
$$
T(n)=O(f(n))
$$
式中，$O$ 的含义是 $T(n)$ 的数量级，其严格的数学定义是：若 $T(n)$ 和 $f(n)$ 是定义在正整数集合上的两个函数，则存在正常数 $C$ 和 $n_0$ ，使得当 $n\ge n_0$ 时，都满足 $0\le T(n)\le Cf(n)$ 。

算法的时间复杂度不仅依赖于问题的规模 $n$，也取决于待输入数据的性质（如输入数据元素的初始状态）。例如，在数组 `A[0...n-1]` 中，查找给定值 $k$ 的算法大致如下：

```
(1)  i = n - 1;
(2)  while(i >= 0 && A[i] != k)
(3)      i--;
(4)  return i;
```

该算法中语句 3（基本运算）的频度不仅与问题规模 n 有关，而且与输入实例中 A 的各元素的取值及 k 的取值有关：

1. 若 A 中没有与 k 相等的元素，则语句 3 的频度 $f(n)=n$。
2. 若 A 的最后一个元素等于 k，则语句 3 的频度 $f(n)$ 是常数 0。



- **最坏时间复杂度**是指在最坏情况下，算法的时间复杂度。
- **平均时间复杂度**是指所有可能输入实例在等概率出现的情况下，算法的期望运行时间。
- **最好时间复杂度**是指在最好情况下，算法的时间复杂度。

一般总是考虑在最坏情况下的时间复杂度，以保证算法的运行时间不会比它更长。

在分析一个程序的时间复杂性时，有以下两条规则：

1. 加法规则
   $$
   T(n)=T_1(n)+T_2(n)=O(f(n))+O(g(n))=O(max(f(n),g(n)))
   $$

2. 乘法规则
   $$
   T(n)=T_1(n)\times T_2(n)=O(f(n))\times O(g(n))=O(f(n)\times g(n))
   $$

常见的渐进时间复杂度为：
$$
O(1)<O(\log_2n)<O(n)<O(n\log_2n)<O(n^2)<O(n^3)<O(2^n)<O(n!)<O(n^n)
$$

#### 2. 空间复杂度

算法的空间复杂度 $S(n)$ 定义为该算法所耗费的存储空间，它是问题规模n的函数。记为
$$
S(n)=O(g(n))
$$
一个程序在执行时除需要存储空间来存放本身所用的指令、常数、变量和输入数据外，还需要一些对数据进行操作的工作单元和存储一些为实现计算所需信息的辅助空间。若输入数据所占空间只取决于问题本身，和算法无关，则只需分析除输入和程序之外的额外空间。

算法**原地工作**是指算法所需的辅助空间为常量，即O(1)。



### 0x02 错题整理

下列程序段的时间复杂度是 ()
```
int sum = 0;
for(int i = 1; i < n; i *= 2)
    for(int j = 0 j < i; j++)
        sum++;
```

A. $O(\log n)$    B. $O(n)$    C. $O(n\log n)$    D. $n(n^2)$

> 分析：
> `sum++` 的执行次数为：
> $$
> \sum_{i=0}^{\log (n-1)}2^i=2^{\log(n-1)}-1=n-2=O(n)
> $$